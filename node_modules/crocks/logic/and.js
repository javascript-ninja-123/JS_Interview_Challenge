/** @license ISC License (c) copyright 2017 original and current authors */
/** @author Ian Hofmann-Hicks (evil) */

var Pred = require('../core/types').proxy('Pred')

var curry = require('../core/curry')
var isFunction = require('../core/isFunction')
var isSameType = require('../core/isSameType')
var predOrFunc = require('../core/predOrFunc')

// and : (a -> Boolean) | Pred -> (a -> Boolean) | Pred -> a -> Boolean
function and(f, g) {
  if(!((isFunction(f) || isSameType(Pred, f)) && (isFunction(g) || isSameType(Pred, g)))) {
    throw new TypeError('and: Preds or predicate functions required for first two arguments')
  }

  return function (x) { return !!(predOrFunc(f, x) && predOrFunc(g, x)); }
}

module.exports = curry(and)
